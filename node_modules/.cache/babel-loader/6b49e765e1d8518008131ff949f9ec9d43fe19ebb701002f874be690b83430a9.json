{"ast":null,"code":"import _objectSpread from\"/Users/adarshchaturvedi/Desktop/untitled folder/Trello-clone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/adarshchaturvedi/Desktop/untitled folder/Trello-clone/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/adarshchaturvedi/Desktop/untitled folder/Trello-clone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/adarshchaturvedi/Desktop/untitled folder/Trello-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Task from\"./Task\";import{Draggable,Droppable}from\"react-beautiful-dnd\";import{useDispatch}from\"react-redux\";import{addTask,deleteTask,editTask}from\"../redux/todoSlice\";import toast,{Toaster}from\"react-hot-toast\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Tasks=function Tasks(_ref){var _todoList$id;var todoList=_ref.todoList;var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var handleAddTask=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(message.length===0)){_context.next=3;break;}return _context.abrupt(\"return\",toast.error(\"Message cannot be empty\"));case 3:try{data={cardId:todoList.id,message:message};dispatch(addTask(data));setMessage(\"\");}catch(error){console.log(error);}case 4:case\"end\":return _context.stop();}},_callee);}));return function handleAddTask(_x){return _ref2.apply(this,arguments);};}();var handleDeleteTask=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(taskId){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:dispatch(deleteTask({cardId:todoList===null||todoList===void 0?void 0:todoList.id,id:taskId}));case 1:case\"end\":return _context2.stop();}},_callee2);}));return function handleDeleteTask(_x2){return _ref3.apply(this,arguments);};}();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openModel=_useState4[0],setOpenModel=_useState4[1];var handleEditTask=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(taskId,newMessage){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:dispatch(editTask({cardId:todoList===null||todoList===void 0?void 0:todoList.id,id:taskId,newMessage:newMessage}));setOpenModel(false);case 2:case\"end\":return _context3.stop();}},_callee3);}));return function handleEditTask(_x3,_x4){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Droppable,{droppableId:todoList===null||todoList===void 0?void 0:(_todoList$id=todoList.id)===null||_todoList$id===void 0?void 0:_todoList$id.toString(),children:function children(provided){var _todoList$tasks;return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},provided.droppableProps),{},{ref:provided.innerRef,children:[todoList===null||todoList===void 0?void 0:(_todoList$tasks=todoList.tasks)===null||_todoList$tasks===void 0?void 0:_todoList$tasks.map(function(_ref5,index){var id=_ref5.id,title=_ref5.title,date=_ref5.date;return/*#__PURE__*/_jsx(Draggable,{index:index,val:index,draggableId:id.toString(),children:function children(provided){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread(_objectSpread({},provided.draggableProps),provided.dragHandleProps),{},{ref:provided.innerRef,children:/*#__PURE__*/_jsx(Task,{handleDeleteTask:handleDeleteTask,handleEditTask:handleEditTask,taskId:id,taskTitle:title,taskDate:date,openModel:openModel,setOpenModel:setOpenModel})}));}},id);}),provided.placeholder]}));}}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddTask,children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"addTask\",rows:\"3\",value:message,onChange:function onChange(e){return setMessage(e.target.value);},placeholder:\"Add a Task\",className:\"w-full p-2 mt-4 rounded-md\"}),/*#__PURE__*/_jsx(\"button\",{className:\"border-2 border-black rounded-md px-2 py-1 font-semibold bg-slate-400\",children:\"Submit\"})]}),/*#__PURE__*/_jsx(Toaster,{})]});};export default Tasks;","map":{"version":3,"names":["React","useState","Task","Draggable","Droppable","useDispatch","addTask","deleteTask","editTask","toast","Toaster","jsx","_jsx","jsxs","_jsxs","Tasks","_ref","_todoList$id","todoList","dispatch","_useState","_useState2","_slicedToArray","message","setMessage","handleAddTask","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","data","wrap","_callee$","_context","prev","next","preventDefault","length","abrupt","error","cardId","id","console","log","stop","_x","apply","arguments","handleDeleteTask","_ref3","_callee2","taskId","_callee2$","_context2","_x2","_useState3","_useState4","openModel","setOpenModel","handleEditTask","_ref4","_callee3","newMessage","_callee3$","_context3","_x3","_x4","children","droppableId","toString","provided","_todoList$tasks","_objectSpread","droppableProps","ref","innerRef","tasks","map","_ref5","index","title","date","val","draggableId","draggableProps","dragHandleProps","taskTitle","taskDate","placeholder","onSubmit","rows","value","onChange","target","className"],"sources":["/Users/adarshchaturvedi/Desktop/untitled folder/Trello-clone/src/components/Tasks.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Task from \"./Task\";\nimport { Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { useDispatch } from \"react-redux\";\nimport { addTask, deleteTask, editTask } from \"../redux/todoSlice\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nconst Tasks = ({ todoList }) => {\n  const dispatch = useDispatch();\n\n  const [message, setMessage] = useState(\"\");\n\n  const handleAddTask = async (e) => {\n    e.preventDefault();\n\n    if (message.length === 0) return toast.error(\"Message cannot be empty\");\n\n    try {\n      const data = { cardId: todoList.id, message: message };\n      dispatch(addTask(data));\n\n      setMessage(\"\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleDeleteTask = async (taskId) => {\n    dispatch(deleteTask({ cardId: todoList?.id, id: taskId }));\n  };\n\n  const [openModel, setOpenModel] = useState(false);\n\n  const handleEditTask = async (taskId, newMessage) => {\n    dispatch(editTask({ cardId: todoList?.id, id: taskId, newMessage }));\n\n    setOpenModel(false);\n  };\n\n  return (\n    <div>\n      <Droppable droppableId={todoList?.id?.toString()}>\n        {(provided) => (\n          <div {...provided.droppableProps} ref={provided.innerRef}>\n            {todoList?.tasks?.map(({ id, title, date }, index) => {\n              return (\n                <Draggable\n                  key={id}\n                  index={index}\n                  val={index}\n                  draggableId={id.toString()}\n                >\n                  {(provided) => (\n                    <div\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                      ref={provided.innerRef}\n                    >\n                      <Task\n                        handleDeleteTask={handleDeleteTask}\n                        handleEditTask={handleEditTask}\n                        taskId={id}\n                        taskTitle={title}\n                        taskDate={date}\n                        openModel={openModel}\n                        setOpenModel={setOpenModel}\n                      />\n                    </div>\n                  )}\n                </Draggable>\n              );\n            })}\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n\n      <form onSubmit={handleAddTask}>\n        <textarea\n          id=\"addTask\"\n          rows=\"3\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          placeholder=\"Add a Task\"\n          className=\"w-full p-2 mt-4 rounded-md\"\n        />\n        <button className=\"border-2 border-black rounded-md px-2 py-1 font-semibold bg-slate-400\">\n          Submit\n        </button>\n      </form>\n      <Toaster />\n    </div>\n  );\n};\n\nexport default Tasks;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}